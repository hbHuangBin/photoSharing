#!/usr/bin/env node

var debug = require('debug')('photoSharing');
var path = require('path');
var nconf = require('nconf');

/* configuration setup */
global.serverRoot = path.join(__dirname, '../');
nconf.env().file(path.join(global.serverRoot, 'config.json'));
nconf.defaults({
	port: 4000,
	redis: {
		host: 'localhost',
		port: 6379
	}
});

var app = require('../app');

app.set('port', nconf.get('port') || 4000);

var server = app.listen(app.get('port'), function() {
  debug('Express server listening on port ' + server.address().port);
});
